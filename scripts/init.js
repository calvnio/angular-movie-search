!function e(r,t,n){function i(c,a){if(!t[c]){if(!r[c]){var u="function"==typeof require&&require;if(!a&&u)return u(c,!0);if(o)return o(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[c]={exports:{}};r[c][0].call(l.exports,function(e){var t=r[c][1][e];return i(t?t:e)},l,l.exports,e,r,t,n)}return t[c].exports}for(var o="function"==typeof require&&require,c=0;c<n.length;c++)i(n[c]);return i}({1:[function(e){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},t=r(e("./app"));angular.element(document).ready(function(){angular.bootstrap(document,[t])})},{"./app":3}],2:[function(e,r,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},i=n(e("./services/search")),o=n(e("./controllers/details")),c=n(e("./controllers/search")),a=n(e("./directives/search-input")),u="movieSearch.config",s="movieSearch.services",l="movieSearch.controllers",f="movieSearch.directives";angular.module(u,[]).constant("config",{api:{url:"http://miniml-api.herokuapp.com/movies"}}),angular.module(s,[]).factory("Search",i),angular.module(l,[]).controller("DetailsCtrl",o).controller("SearchCtrl",c),angular.module(f,[]).directive("searchInput",a),t.services=s,t.controllers=l,t.directives=f,t.config=u,Object.defineProperty(t,"__esModule",{value:!0})},{"./controllers/details":4,"./controllers/search":5,"./directives/search-input":6,"./services/search":7}],3:[function(e,r){"use strict";var t=e("./app.config"),n=t.services,i=t.controllers,o=t.directives,c=t.config,a="movieSearch",u=function(e,r){e.state("search",{url:"/",templateUrl:"views/search-results.html",controller:"SearchCtrl"}).state("details",{url:"/details/:id",templateUrl:"views/details.html",controller:"DetailsCtrl"}),r.otherwise("/")};u.$inject=["$stateProvider","$urlRouterProvider"],angular.module(a,["ui.router","ngSanitize",c,n,i,o]).config(u),r.exports=a},{"./app.config":2}],4:[function(e,r){"use strict";var t=function(e,r,t,n){function i(){r.go("search")}function o(){var e=n.results.filter(function(e){return e.id===t.id})[0];return n.fetchMovieDetails(e.id)}$(function(){var e={complete:function(){i()}};$("#detail-modal").openModal(e)}),n.query||i(),o().then(function(r){e.detail=r.data})};t.$inject=["$scope","$state","$stateParams","Search"],r.exports=t},{}],5:[function(e,r){"use strict";var t=function(e,r,t){r.$watch(function(){return t.results},function(e){e&&(r.results=e)}),r.$watch(function(){return t.query},function(e){e||(r.query=t.query,r.results=[])}),r.$watch(function(){return t.isLoading},function(){r.isLoading=t.isLoading}),r.$watch(function(){return t.error},function(){r.error=t.error})};t.$inject=["$rootScope","$scope","Search"],r.exports=t},{}],6:[function(e,r){"use strict";var t=function(e){return{restrict:"E",scope:{},template:['<div class="search-input">','<input type="text" ng-model="query" placeholder="Search for a movie..."></input>','<i ng-click="resetQuery()" ng-show="query.length" class="mdi-navigation-close"></i>',"</div>"].join(""),link:function(r,t){t.bind("keydown",function(t){13===t.keyCode&&e.handleInput(r.query)}),r.resetQuery=function(){e.query="",r.query=""}}}};t.$inject=["Search"],r.exports=t},{}],7:[function(e,r){"use strict";var t=function(e,r,t,n,i,o){return{results:[],query:"",isLoading:!1,fetchMovieDetails:function(e){return i({url:[o.api.url,e].join("/"),cache:!0})},searchMovies:function(e){var r=t(e);return this.isLoading=!0,i({url:o.api.url,params:{q:r,page_limit:1},method:"GET",cache:!0})},handleInput:function(e){var r=this;this.query=e,e&&this.searchMovies(e).then(function(e){r.isLoading=!1,r.results=[],r.error="",e.data.length?r.results.concat(e.data.movies):e.data.movies&&e.data.movies.length?r.results=e.data.movies:r.error=e.data.error||"No movies found."})}}};t.$inject=["$q","$rootScope","$sanitize","$timeout","$http","config"],r.exports=t},{}]},{},[1]);